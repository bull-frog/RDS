<!DOCTYPE html>
<html>
	<head>
		<title>Image Test</title>
		<script>
			function main() {
				var imageData = getImageData("circle.png");
				console.log(imageData.length);
			}

			function getImageData(src) {
				var image = new Image();
				image.src = src;
				console.log(image);

				image.onload = function() {
					var cv = document.createElement("canvas");
					cv.width = image.naturalWidth;
					cv.height = image.naturalHeight;
					console.log(cv);

					var ct = cv.getContext("2d");
					ct.drawImage(image, 0, 0);
					console.log(ct);
					document.body.appendChild(cv);

					var data = ct.getImageData(0, 0, cv.width, cv.height);
					return data;
				}

			}

		</script>
	</head>
	<body onload="main()">
		
	</body>
</html>