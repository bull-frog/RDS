<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Cache-Control" content="no-store">
		<title>Image Test</title>
	</head>
	<body>
		PNGファイルを選択してください。
		<input type="file" id="setfile" accept=".png">
		<script>

			var image;
			var canvas;
			var context;
			var data;
			
			function main(src) {
				
				image = new Image();
				image.src = ;
				image.onload = function() {

					canvas = document.createElement('canvas');
					canvas.width = image.naturalWidth;
					canvas.height = image.naturalHeight;

					context = canvas.getContext('2d');
					context.drawImage(image, 0, 0);
					data = context.getImageData(0, 0, canvas.width, canvas.height);

					console.log(data.data.length);

				}

			}
		</script>
		
	</body>
</html>